{% extends 'file_node.html' %}

{% block file_content %}
<div id="editor"></div>
<script src="/static/js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/js/ace/ext-modelist.js" type="text/javascript" charset="utf-8"></script>
<script>
    $(document).ready(function(){
        var path = "/file/raw/{{path|urlencode}}";
        $('#editor').load(path, function(){
            var modelist = ace.require("ace/ext/modelist");                       
            var mode = modelist.getModeForPath('{{path}}').mode;

            var editor = ace.edit("editor");           

            editor.setTheme("ace/theme/github");
            editor.getSession().setMode(mode);
            editor.setAutoScrollEditorIntoView(true);
            editor.setOption("minLines", 10);
            editor.setOption("maxLines", 40);
        });
    });   
</script>
{% endblock %}


<!-- 

    var editor1 = ace.edit("editor1");
    editor1.setTheme("ace/theme/tomorrow_night_eighties");
    editor1.session.setMode("ace/mode/html");
    editor1.setAutoScrollEditorIntoView(true);
    editor1.setOption("maxLines", 30);

    var editor2 = ace.edit("editor2");
    editor2.setTheme("ace/theme/tomorrow_night_blue");
    editor2.session.setMode("ace/mode/html");
    editor2.setAutoScrollEditorIntoView(true);
    editor2.setOption("maxLines", 30);
    editor2.setOption("minLines", 2);

    var editor = ace.edit("editor3");
    editor.setOptions({
        autoScrollEditorIntoView: true,
        maxLines: 8
    });
    editor.renderer.setScrollMargin(10, 10, 10, 10);
    
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/tomorrow");
    editor.session.setMode("ace/mode/html");
    editor.setAutoScrollEditorIntoView(true);
    editor.setOption("maxLines", 100);
 -->