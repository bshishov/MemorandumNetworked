<div id="textform" class="modal">   
    <div class="modal-content">
        <h4>Add text note</h4>
        <form method="post" action="/add">
            <input type="hidden" name="parent_id" value="{{ id }}" />
            <input type="hidden" name="parent_provider" value="{{ provider }}" />
            <input type="hidden" name="new_provider" value="text" />

            <div class="row">                
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_forward</i>
                    <input type="text" name="relation" placeholder="Relation">
                    <label for="relation">Relation</label>
                </div>
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_backward</i>
                    <input type="text" name="relation_back">
                    <label for="relation_back">Backward relation</label>
                </div>
            </div>

            <div class="row" >
                <div class="col s12">                    
                    <textarea id="form-text-field" name="text" class="foramtted-text"></textarea
                </div>
            </div> 
            
            <div class="row">
                <div class="col s12"> 
                    <button type="submit" class="btn"><i class="material-icons">add</i></button>
                </div>
            </div>  
            {% csrf_token %} 
        </form>          
    </div>        
</div>

<script type="text/javascript">
        $('#form-text-field').trumbowyg({
            autogrow: true,             
            btns: ['formatting',
              '|', 'btnGrp-design',
              '|', 'link',
              '|', 'insertImage',
              '|', 'btnGrp-justify',
              '|', 'btnGrp-lists']
        });        
    </script>

<div id="urlform" class="modal">
    <div class="modal-content">
        <h4>Add URL</h4>
        <form method="post" action="/add">
            <input type="hidden" name="parent_id" value="{{ id }}" />
            <input type="hidden" name="parent_provider" value="{{ provider }}" />
            <input type="hidden" name="new_provider" value="url" />

            <div class="row">                
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_forward</i>
                    <input type="text" name="relation" placeholder="Relation">
                    <label for="relation">Relation</label>
                </div>
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_backward</i>
                    <input type="text" name="relation_back">
                    <label for="relation_back">Backward relation</label>
                </div>
            </div>
            <div class="row">                
                <div class="input-field col s6">
                    <i class="material-icons prefix">link</i>
                    <input type="text" name="url">
                    <label for="url">URL</label>
                </div>
                 <div class="input-field col s6">
                    <input type="checkbox" id="download" name="download" />
                    <label for="download">Should download contents</label>
                </div>
            </div>
            <div class="row">  
                <div class="col s12"> 
                    <button type="submit" class="btn"><i class="material-icons">add</i></button>
                </div>
            </div>
            {% csrf_token %}
        </form>
    </div>
</div>

<div id="fileform" class="modal">
    <div class="modal-content">
        <h4>Upload file</h4>
        <form method="post" action="/add">
            <input type="hidden" name="parent_id" value="{{ id }}" />
            <input type="hidden" name="parent_provider" value="{{ provider }}" />
            <input type="hidden" name="new_provider" value="file" />

            <div class="row">                
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_forward</i>
                    <input type="text" name="relation" placeholder="Relation">
                    <label for="relation">Relation</label>
                </div>
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_backward</i>
                    <input type="text" name="relation_back">
                    <label for="relation_back">Backward relation</label>
                </div>
            </div>
            <div class="row">                
                <div class="file-field input-field">
                  <div class="btn">
                    <span>File</span>
                    <input type="file" name="file" multiple>
                  </div>
                  <div class="file-path-wrapper">
                    <input class="file-path validate" type="text" placeholder="Select one or more files">
                  </div>
                </div>
            </div>
            <div class="row">  
                <div class="col s12"> 
                    <button type="submit" class="btn"><i class="material-icons">add</i></button>
                </div>
            </div>
            {% csrf_token %}
        </form>
    </div>
</div>


<div id="folderform" class="modal">
    <div class="modal-content">
        <h4>Create folder</h4>
        <form method="post" action="/add">
            <input type="hidden" name="parent_id" value="{{ id }}" />
            <input type="hidden" name="parent_provider" value="{{ provider }}" />
            <input type="hidden" name="new_provider" value="file" />

            <div class="row">                
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_forward</i>
                    <input type="text" name="relation" placeholder="Relation">
                    <label for="relation">Relation</label>
                </div>
                <div class="input-field col s6">
                    <i class="material-icons prefix">arrow_backward</i>
                    <input type="text" name="relation_back">
                    <label for="relation_back">Backward relation</label>
                </div>
            </div>
            <div class="row">                
                <div class="input-field col s12">
                    <i class="material-icons prefix">folder</i>
                    <input type="text" name="folder">
                    <label for="folder">Folder Name</label>
                </div>                
            </div>
            <div class="row">  
                <div class="col s12"> 
                    <button type="submit" class="btn"><i class="material-icons">add</i></button>
                </div>
            </div>
            {% csrf_token %}
        </form>
    </div>
</div>

<!-- 
    parent_id
    parent_provider
    new_provider
    relation
    relation_back

    text

    url

    folder
 -->

<div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large blue">
        <i class="large material-icons">add</i>
    </a>
    <ul>
        <li><a class="modal-trigger btn-floating green" title="Add text note" href="#textform" onclick="setRelation('{% if relation %}{{relation}}{%endif%}');">
            <i class="material-icons">note_add</i>
        </a></li>

        <li><a class="modal-trigger btn-floating blue" title="Add URL" href="#urlform" onclick="setRelation('{% if relation %}{{relation}}{%endif%}');">
            <i class="material-icons">link</i>
        </a>  </li>

        <li><a class="modal-trigger btn-floating red" title="Add Files" href="#fileform" onclick="setRelation('{% if relation %}{{relation}}{%endif%}');">
            <i class="material-icons">insert_drive_file</i>
        </a></li>

        <li><a class="modal-trigger btn-floating red" title="Create folder" href="#folderform" onclick="setRelation('{% if relation %}{{relation}}{%endif%}');">
            <i class="material-icons">folder</i>
        </a></li>

        <li><a class="modal-trigger btn-floating " title="Link another node" href="#!" onclick="setRelation('{% if relation %}{{relation}}{%endif%}');">
            <i class="material-icons">search</i>
        </a></li>        
    </ul>
</div>
